%! TeX program = xelatex
%! lang = en-US
\section{Outlook}
\label{sec:ccl}


Let us end on a more general discussion regarding the status of commutative
input functions in the study of unary output polyregular functions. A
\emph{quantitative pumping argument} for polyregular function $f \colon
\Sigma^* \to \Rel$ states that $f$ has property $X$ if and only if for all
\kl{pumping pattern} $q \colon \Nat^k \to \Sigma^*$, $f \circ q$ has property
$X$. Let us formalize such a statement for \kl{growth rate} and
\kl(polyregular){aperiodicity} respectively in \cref{pre-compose-growth-commut:lemma,pre-compose-sf-commut:lemma}. Note that we generalized \kl{pumping
patterns} to \kl{commutative} \kl{star-free polyregular functions} to simplify
the statements.


\begin{lemma}[restate=pre-compose-growth-commut:lemma,label=pre-compose-growth-commut:lemma]
    \proofref{pre-compose-growth-commut:lemma}
    Let $f \in \ZRat$, and $d \in \Nat$. Then,
    $f \in \ZPoly[d]$ if and only if 
    for every \kl{commutative} \kl{star-free polyregular function} $h$
            of \kl{growth rate} $l \in \Nat$,
            $(f \circ h) \in \ZPoly[d \times l]$.
\end{lemma}



\begin{lemma}[restate=pre-compose-sf-commut:lemma,label=pre-compose-sf-commut:lemma]
    \proofref{pre-compose-sf-commut:lemma}
    Let $f \in \ZPoly$. Then, $f \in \ZSF$,
    if and only if for every \kl{commutative} \kl{star-free polyregular function} $h$,
            $(f \circ h) \in \ZSF$.
\end{lemma}

Remark that if \cref{pre-compose-sf-commut:lemma} were to hold for
\kl{$\Nat$-polyregular functions}, then the decidability of $\NPoly$ inside
$\ZPoly$, and the decidability of $\NSF$ inside $\NPoly$ would immediately
follow. On the one hand, one can guess a candidate function and check for
equivalence, on the other hand, one can guess a \kl{commutative} \kl{star-free
polyregular function} and check membership (which is decidable thanks to this
paper). This is restated in our concluding conjecture.

\begin{conjecture}
    \label{npoly-zpoly:conjecture}
    Let $f \in \ZPoly$. Then, $f \in \NPoly$ if and only if for every
    \kl{commutative} \kl{star-free polyregular function} $h$,
    $(f \circ h) \in \NPoly$.
\end{conjecture}
