%! TeX program = xelatex
%! lang = en-US
\section{Outlook}
\label{sec:ccl}

Let us conclude with a more general remark on the status of commutative input
in the study of unary output polyregular functions. Notice that all semantic
characterizations of subclasses of $\ZPoly$ (\kl{combinatorial}, \kl{ultimately
polynomial}, pumpable) arise from pre-composition with a \kl{commutative}
\kl{star-free polyregular function}, as formally stated in
\cref{pre-compose-growth-commut:lemma,pre-compose-sf-commut:lemma}. Following
this idea, we conjecture that $\ZPoly$ and $\NPoly$ can be described as
combinations of commutative functions, leading to
\cref{z-poly-commutative-encoding:conj}. This conjecture would play the role of
\cref{decompose-polynomial:lem} in the study of functions in $\ZPoly$.

\begin{lemma}
    \label{pre-compose-growth-commut:lemma}
    Let $f \in \ZRat$, and $k \in \Nat$. Then,
    $f \in \ZPoly[k]$ if and only if 
    for every \kl{commutative} \kl{star-free polyregular function} $h$
            of \kl{growth rate} $l \in \Nat$,
            $(f \circ h) \in \ZPoly[k+l-1]$.
\end{lemma}


\begin{lemma}
    \label{pre-compose-sf-commut:lemma}
    Let $f \in \ZPoly$. Then, $f \in \ZSF$,
    if and only if for every \kl{commutative} \kl{star-free polyregular function} $h$,
            $(f \circ h) \in \ZSF$.
\end{lemma}

\begin{conjecture}
    \label{z-poly-commutative-encoding:conj}
    Let $k \in \Nat$, and let $f \in \ZPoly[k]$ (resp. $\ZSF[k]$).
    There exists a finite set $Q$, 
    parameters $l_q \in \Nat$ for all $q \in Q$,
    \kl{commutative} polyregular functions (resp. \kl{star-free polyregular})
    $(g_q)_{q \in Q}$
    from $\Nat^{l_q}$ to $\Rel$,
    a surjective polyregular function (resp. \kl{star-free polyregular})
    $\mathsf{dec} \colon \Sigma^* \tosurj \sum_{q \in Q} \Nat^{l_q}$,
    and a polyregular function (resp. \kl{star-free polyregular})
    $\mathsf{enc} \colon \sum_{q \in Q} \Nat^{l_q} \to \Sigma^*$,
    such that
    $f = (\sum_{q \in Q} g_q) \circ \mathsf{dec}$
    and $\mathsf{dec} \circ \mathsf{enc} = \mathsf{id}$.
\end{conjecture}

In the specific subclass of \emph{polyblind functions}
\cite{LENP21,DOUE22}, parts of the conjecture holds,
because they essentially behave as commutative functions \cite[Theorem
6.12]{DOUE23}. Indeed, a suitable application of Parikh's Theorem
\cite{PARI66} guarantees the existence of the functions $\mathsf{enc}$
and $\mathsf{dec}$, although they may fail to be  \kl{polyregular functions}.

\begin{lemma}
    \label{z-poly-commutative-encoding:remark}
    The \cref{z-poly-commutative-encoding:conj} holds for the
    subclass of polyblind functions when dropping the assumption that
    $\mathsf{enc}$ and $\mathsf{dec}$ are \kl{polyregular functions}
    (resp. \kl{star-free polyregular functions}).
\end{lemma}
