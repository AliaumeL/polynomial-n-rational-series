%! TeX program = xelatex
%! lang = en-US
\section{Outlook}
\label{sec:ccl}

Let us conclude with a more general remark on the status of commutative input
in the study of unary output polyregular functions. Notice that semantic
characterizations of subclasses of $\ZPoly$ (\kl{combinatorial}, \kl{ultimately
polynomial}) arise from pre-composition with a \kl{commutative}
\kl{star-free polyregular function}, as formally stated in
\cref{pre-compose-growth-commut:lemma,pre-compose-sf-commut:lemma}.

%Indeed, a suitable application of Parikh's Theorem \cite{PARI66}
%guarantees the existence of the functions $\mathsf{enc}$ and $\mathsf{dec}$,
%although they may fail to be  \kl{polyregular functions}.

\begin{lemma}
    \label{pre-compose-growth-commut:lemma}
    Let $f \in \ZRat$, and $k \in \Nat$. Then,
    $f \in \ZPoly[k]$ if and only if 
    for every \kl{commutative} \kl{star-free polyregular function} $h$
            of \kl{growth rate} $l \in \Nat$,
            $(f \circ h) \in \ZPoly[k\times l]$.
    \proofref{pre-compose-growth-commut:lemma}
\end{lemma}

\begin{lemma}
    \label{pre-compose-npoly:lemma}
    Let $f \in \ZRat$, and $k \in \Nat$. Then,
    $f \in \NPoly$ if and only if
    for every \kl{commutative} \kl{star-free polyregular function} $h$
            $(f \circ h) \in \NPoly$.
\end{lemma}

\begin{lemma}
    \label{pre-compose-sf-commut:lemma}
    Let $f \in \ZPoly$. Then, $f \in \ZSF$,
    if and only if for every \kl{commutative} \kl{star-free polyregular function} $h$,
            $(f \circ h) \in \ZSF$.
    \proofref{pre-compose-sf-commut:lemma}
\end{lemma}

Remark that if those two lemmas were to hold for \kl{$\Nat$-polyregular
functions}, then the decidability of $\NPoly$ inside $\ZPoly$ would follow
immediately, and $\NSF$ inside $\NPoly$ would immediately follow. On the one
hand, one can guess a candidate function and check for equivalence, on the
other hand, one can guess a \kl{commutative} \kl{star-free polyregular
function} and check membership (which is decidable thanks to this paper).


