%
% Here are the definitions
% of mathematical macros.
%
%

\newcommand{\defined}{\mathrel{:=}}
\newcommand{\eqdef}{\stackrel{\mathsf{def}}{=}}
\newcommand{\seqof}[2]{(#1)_{#2}}
\newcommand{\setof}[2]{\mathopen{\{} #1 \mid #2 \mathclose{\}}}
\newcommand{\set}[1]{\mathopen{\{} #1 \mathclose{\}}}

\NewDocumentCommand{\card}{ O{} m }{ \mathopen{|} #2  \mathclose{|}_{#1}}

\newcommand{\Nat}{\mathbb{N}}
\newcommand{\Rel}{\mathbb{Z}}
\newcommand{\Rat}{\mathbb{Q}}

\newcommand{\Pfin}{\mathcal{P}_{\mathsf{fin}}}

\newcommand{\MSO}{\mathsf{\kl[\MSO]{MSO}}}
\knowledge{\MSO}{notion}

\newcommand{\FO}{\mathsf{\kl[\FO]{FO}}}
\knowledge{\FO}{notion}


\newcommand{\ind}[1]{\mathbf{1}_{#1}}
\newcommand{\bigO}{\mathcal{O}}

\NewDocumentCommand{\Span}{m}{\mathop{\kl[\Span]{\mathsf{Span}_{#1}}}}
\knowledge{\Span}{notion}

\NewDocumentCommand{\const}{ m }{\mathop{\mathsf{const}_{#1}}}


\newcommand{\topartial}{\rightharpoonup}
\newcommand{\tosurj}{\twoheadrightarrow}
% functions

\newcommand{\dom}{\operatorname{dom}}

\NewDocumentCommand{\vcount}{ m }{ {{\#}#1} }


% GOOD POLYNOMIALS
\newcommand{\CoveredPoly}{\kl[\CoveredPoly]{\mathsf{PolyNNeg}}}
\newcommand{\CorrectPoly}{\kl[\CorrectPoly]{\mathsf{PolyRec}}}
\knowledge{\CoveredPoly}{notion}
\knowledge{\CorrectPoly}{notion}

\NewDocumentCommand{\Monomials}{o}{\mathop{\kl[\Monomials]{\IfNoValueTF{#1}{\mathsf{Mon}}{\mathsf{Mon}[#1]}}}}
\NewDocumentCommand{\MaximalMonomials}{}{\mathop{\kl[\MaximalMonomials]{\mathsf{maxmon}}}}
\knowledge{\Monomials}{notion}
\knowledge{\MaximalMonomials}{notion}



% Restrictions
%\newcommand{\restr}[2]{{#1}_{\kl[\restr]{| #2}}}
\newcommand{\restr}[2]{\withkl{\kl[\restr]}{\cmdkl{[}{#1}\cmdkl{]}_{#2}}}
\knowledge{\restr}{notion}

\NewDocumentCommand{\Poly}{O{}}{\kl[\Poly]{\mathsf{Poly}_{#1}}}
\NewDocumentCommand{\SF}{O{}}{\kl[\SF]{\mathsf{SF}_{#1}}}

% Add commands for Mealy / Sequential / Rational / Regular
\NewDocumentCommand{\Mealy}{O{}}{\kl[\Mealy]{\mathsf{Mealy}_{#1}}}
\NewDocumentCommand{\Sequential}{O{}}{\kl[\Sequential]{\mathsf{Seq}_{#1}}}
\NewDocumentCommand{\Rational}{O{}}{\kl[\Rational]{\mathsf{Rat}_{#1}}}
\NewDocumentCommand{\Regular}{O{}}{\kl[\Regular]{\mathsf{Reg}_{#1}}}
\knowledge{\Mealy}{notion}
\knowledge{\Sequential}{notion}
\knowledge{\Rational}{notion}
\knowledge{\Regular}{notion}

% Do the same for the aperiodic variants of Mealy, Sequential, Rational and Regular
\NewDocumentCommand{\AMealy}{O{}}{\kl[\AMealy]{\mathsf{AMealy}_{#1}}}
\NewDocumentCommand{\ASequential}{O{}}{\kl[\ASequential]{\mathsf{ASeq}_{#1}}}
\NewDocumentCommand{\ARational}{O{}}{\kl[\ARational]{\mathsf{ARat}_{#1}}}
\NewDocumentCommand{\ARegular}{O{}}{\kl[\ARegular]{\mathsf{AReg}_{#1}}}
\knowledge{\AMealy}{notion}
\knowledge{\ASequential}{notion}
\knowledge{\ARational}{notion}
\knowledge{\ARegular}{notion}





\NewDocumentCommand{\NPoly}{O{}}{\kl[\NPoly]{\mathbb{N}\mathsf{Poly}_{#1}}}
\NewDocumentCommand{\ZPoly}{O{}}{\kl[\ZPoly]{\mathbb{Z}\mathsf{Poly}_{#1}}}
\NewDocumentCommand{\NSF}{O{}}{\kl[\NSF]{\mathbb{N}\mathsf{SF}_{#1}}}
\NewDocumentCommand{\ZSF}{O{}}{\kl[\ZSF]{\mathbb{Z}\mathsf{SF}_{#1}}}
\NewDocumentCommand{\ZRat}{}{\kl[\ZRat]{\mathbb{Z}\mathsf{Series}}}
\NewDocumentCommand{\NRat}{}{\kl[\NRat]{\mathbb{N}\mathsf{Series}}}
\NewDocumentCommand{\ZCommut}{}{\kl[\ZCommut]{\mathsf{Commut}}}

\knowledge{\Poly}{notion}
\knowledge{\SF}{notion}
\knowledge{\NPoly}{notion}
\knowledge{\ZPoly}{notion}
\knowledge{\NSF}{notion}
\knowledge{\ZSF}{notion}
\knowledge{\ZRat}{notion}
\knowledge{\NRat}{notion}
\knowledge{\ZCommut}{notion}

\NewDocumentCommand{\commute}{O{\cdot}}{\{\!\{ #1 \}\!\}}





\NewDocumentCommand{\hoareleq}{}{\leq_{\mathcal{H}}}
\NewDocumentCommand{\hoarele}{}{<_{\mathcal{H}}}

%\newcommand{\growth}[1]{\mathsf{growth}_{#1}}

\NewDocumentCommand{\BadPoly}{}{\kl[\BadPoly]{\mathsf{P}_{\mathsf{bad}}}}
\knowledge{\BadPoly}{notion}

\NewDocumentCommand{\translate}{m}{\mathop{\kl[\translate]{\tau_{#1}}}}
\knowledge{\translate}{notion}

% Differences of polynomials
\NewDocumentCommand{\Diff}{m m}{ \mathop{\kl[\Diff]{\Delta_{#1}}}(#2) }
\knowledge{\Diff}{notion}

\NewDocumentCommand{\polysort}{}{\mathsf{sort}}
\NewDocumentCommand{\polysum}{}{\mathsf{sum}}


\NewDocumentCommand{\npolyleq}{ O{} }{\mathrel{\kl[\npolyleq]{\preceq_{\Nat #1}}}}
\knowledge{\npolyleq}{notion}
\NewDocumentCommand{\zpolyequiv}{ O{} }{\mathrel{\kl[\zpolyequiv]{\equiv_{\Rel #1}}}}
\knowledge{\zpolyequiv}{notion}

\NewDocumentCommand{\app}{ m m }{\mathop{{#2} \mathrel{\kl[\app]{\triangleright}} {#1}}}
\knowledge{\app}{notion}

\NewDocumentCommand{\Res}{}{ \mathop{\kl[\Res]{\mathsf{Res}}}}
\knowledge{\Res}{notion}


\NewDocumentCommand{\resleq}{ m m }{\mathrel{\kl[\resleq]{\leq_{{#1},{#2}}}}}
\knowledge{\resleq}{notion}
\NewDocumentCommand{\resleqsf}{ m m }{\mathrel{\kl[\resleqsf]{\leq_{{#1},{#2}}^{\mathsf{sf}}}}}
\knowledge{\resleqsf}{notion}

\NewDocumentCommand{\prefleq}{}{\mathrel{\kl[\prefleq]{\sqsubseteq_{\mathsf{pref}}}}}
\knowledge{\prefleq}{notion}
\NewDocumentCommand{\prefle}{}{\sqsubset_{\mathsf{pref}}}
\NewDocumentCommand{\preforth}{}{\bot_{\mathsf{pref}}}


\NewDocumentCommand{\aTransd}{}{\mathcal{A}}


\NewDocumentCommand{\ModuloTypes}{O{}}{\kl[\ModuloTypes]{{#1}\mathsf{Types}}}
\knowledge{\ModuloTypes}{notion}
\NewDocumentCommand{\moduloType}{O{}}{\kl[\moduloType]{{#1}\mathsf{type}}}
\knowledge{\moduloType}{notion}


\NewDocumentCommand{\floor}{m}{\lfloor #1 \rfloor}


% Name of examples


\NewDocumentCommand{\BadExOk}{}{\mathsf{f}}
\NewDocumentCommand{\BadExKo}{}{\mathsf{g}}
